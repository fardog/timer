window.juration=function(){var e={seconds:{patterns:["second","sec","s"],value:1,formats:{chrono:"",micro:"s","short":"sec","long":"second"}},minutes:{patterns:["minute","min","m(?!s)"],value:60,formats:{chrono:":",micro:"m","short":"min","long":"minute"}},hours:{patterns:["hour","hr","h"],value:3600,formats:{chrono:":",micro:"h","short":"hr","long":"hour"}},days:{patterns:["day","dy","d"],value:86400,formats:{chrono:":",micro:"d","short":"day","long":"day"}},weeks:{patterns:["week","wk","w"],value:604800,formats:{chrono:":",micro:"w","short":"wk","long":"week"}},months:{patterns:["month","mon","mo","mth"],value:2592e3,formats:{chrono:":",micro:"m","short":"mth","long":"month"}},years:{patterns:["year","yr","y"],value:31536e3,formats:{chrono:":",micro:"y","short":"yr","long":"year"}}},t=function(t,n){if(!s(t))throw"juration.stringify(): Unable to stringify a non-numeric value";if(typeof n=="object"&&n.format!==undefined&&n.format!=="micro"&&n.format!=="short"&&n.format!=="long"&&n.format!=="chrono")throw"juration.stringify(): format cannot be '"+n.format+"', and must be either 'micro', 'short', or 'long'";var u={format:"short"},a=o(u,n),f=["years","months","days","hours","minutes","seconds"],l=[];for(var c=0,h=f.length;c<h;c++)c===0?l[c]=Math.floor(t/e[f[c]].value):l[c]=Math.floor(t%e[f[c-1]].value/e[f[c]].value),a.format==="micro"||a.format==="chrono"?l[c]+=e[f[c]].formats[a.format]:l[c]+=" "+i(l[c],e[f[c]].formats[a.format]);var p="";for(c=0,h=l.length;c<h;c++)l[c].charAt(0)!=="0"&&a.format!="chrono"?p+=l[c]+" ":a.format=="chrono"&&(p+=r(l[c]+"","0",c==l.length-1?2:3));return p.replace(/\s+$/,"").replace(/^(00:)+/g,"").replace(/^0/,"")},n=function(t){for(var n in e)for(var r=0,i=e[n].patterns.length;r<i;r++){var s=new RegExp("((?:\\d+\\.\\d+)|\\d+)\\s?("+e[n].patterns[r]+"s?(?=\\s|\\d|\\b))","gi");t=t.replace(s,function(t,r,i){return" "+(r*e[n].value).toString()+" "})}var o=0,u=t.replace(/(?!\.)\W+/g," ").replace(/^\s+|\s+$|(?:and|plus|with)\s?/g,"").split(" ");for(var a=0,f=u.length;a<f;a++){if(!u[a]||!isFinite(u[a]))throw u[a]?"juration.parse(): Unable to parse: "+u[a].replace(/^\d+/g,""):"juration.parse(): Unable to parse: a falsey value";o+=parseFloat(u[a])}return o},r=function(e,t,n){if(!e||!t||e.length>=n)return e;var r=(n-e.length)/t.length;for(var i=0;i<r;i++)e=t+e;return e},i=function(e,t){return e==1?t:t+"s"},s=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},o=function(e,t){for(var n in t)t[n]!==undefined&&(e[n]=t[n]);return e};return{parse:n,stringify:t,humanize:t}}();
