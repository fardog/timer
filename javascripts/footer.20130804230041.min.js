var libFuncName=null;if(typeof jQuery=="undefined"&&typeof Zepto=="undefined"&&typeof $=="function")libFuncName=$;else if(typeof jQuery=="function")libFuncName=jQuery;else{if(typeof Zepto!="function")throw new TypeError;libFuncName=Zepto}(function(e,t,n,r){"use strict";Array.prototype.filter||(Array.prototype.filter=function(e){if(this==null)throw new TypeError;var t=Object(this),n=t.length>>>0;if(typeof e!="function")return;var r=[],i=arguments[1];for(var s=0;s<n;s++)if(s in t){var o=t[s];e&&e.call(i,o,s,t)&&r.push(o)}return r}),Function.prototype.bind||(Function.prototype.bind=function(e){if(typeof this!="function")throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t=Array.prototype.slice.call(arguments,1),n=this,r=function(){},i=function(){return n.apply(this instanceof r&&e?this:e,t.concat(Array.prototype.slice.call(arguments)))};return r.prototype=this.prototype,i.prototype=new r,i}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e){if(this==null)throw new TypeError;var t=Object(this),n=t.length>>>0;if(n===0)return-1;var r=0;arguments.length>1&&(r=Number(arguments[1]),r!=r?r=0:r!=0&&r!=Infinity&&r!=-Infinity&&(r=(r>0||-1)*Math.floor(Math.abs(r))));if(r>=n)return-1;var i=r>=0?r:Math.max(n-Math.abs(r),0);for(;i<n;i++)if(i in t&&t[i]===e)return i;return-1}),e.fn.stop=e.fn.stop||function(){return this},t.Foundation={name:"Foundation",version:"4.1.5",cache:{},init:function(t,n,r,i,s,o){var u,a=[t,r,i,s],f=[],o=o||!1;o&&(this.nc=o),this.rtl=/rtl/i.test(e("html").attr("dir")),this.scope=t||this.scope;if(n&&typeof n=="string"){if(/off/i.test(n))return this.off();u=n.split(" ");if(u.length>0)for(var l=u.length-1;l>=0;l--)f.push(this.init_lib(u[l],a))}else for(var c in this.libs)f.push(this.init_lib(c,a));return typeof n=="function"&&a.unshift(n),this.response_obj(f,a)},response_obj:function(e,t){for(var n=0,r=t.length;n<r;n++)if(typeof t[n]=="function")return t[n]({errors:e.filter(function(e){if(typeof e=="string")return e})});return e},init_lib:function(e,t){return this.trap(function(){if(this.libs.hasOwnProperty(e))return this.patch(this.libs[e]),this.libs[e].init.apply(this.libs[e],t)}.bind(this),e)},trap:function(e,t){if(!this.nc)try{return e()}catch(n){return this.error({name:t,message:"could not be initialized",more:n.name+" "+n.message})}return e()},patch:function(e){this.fix_outer(e),e.scope=this.scope,e.rtl=this.rtl},inherit:function(e,t){var n=t.split(" ");for(var r=n.length-1;r>=0;r--)this.lib_methods.hasOwnProperty(n[r])&&(this.libs[e.name][n[r]]=this.lib_methods[n[r]])},random_str:function(e){var t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz".split("");e||(e=Math.floor(Math.random()*t.length));var n="";for(var r=0;r<e;r++)n+=t[Math.floor(Math.random()*t.length)];return n},libs:{},lib_methods:{set_data:function(e,t){var n=[this.name,+(new Date),Foundation.random_str(5)].join("-");return Foundation.cache[n]=t,e.attr("data-"+this.name+"-id",n),t},get_data:function(e){return Foundation.cache[e.attr("data-"+this.name+"-id")]},remove_data:function(t){t?(delete Foundation.cache[t.attr("data-"+this.name+"-id")],t.attr("data-"+this.name+"-id","")):e("[data-"+this.name+"-id]").each(function(){delete Foundation.cache[e(this).attr("data-"+this.name+"-id")],e(this).attr("data-"+this.name+"-id","")})},throttle:function(e,t){var n=null;return function(){var r=this,i=arguments;clearTimeout(n),n=setTimeout(function(){e.apply(r,i)},t)}},data_options:function(t){function u(e){return!isNaN(e-0)&&e!==null&&e!==""&&e!==!1&&e!==!0}function a(t){return typeof t=="string"?e.trim(t):t}var n={},r,i,s=(t.attr("data-options")||":").split(";"),o=s.length;for(r=o-1;r>=0;r--)i=s[r].split(":"),/true/i.test(i[1])&&(i[1]=!0),/false/i.test(i[1])&&(i[1]=!1),u(i[1])&&(i[1]=parseInt(i[1],10)),i.length===2&&i[0].length>0&&(n[a(i[0])]=a(i[1]));return n},delay:function(e,t){return setTimeout(e,t)},scrollTo:function(n,r,i){if(i<0)return;var s=r-e(t).scrollTop(),o=s/i*10;this.scrollToTimerCache=setTimeout(function(){isNaN(parseInt(o,10))||(t.scrollTo(0,e(t).scrollTop()+o),this.scrollTo(n,r,i-10))}.bind(this),10)},scrollLeft:function(e){if(!e.length)return;return"scrollLeft"in e[0]?e[0].scrollLeft:e[0].pageXOffset},empty:function(e){if(e.length&&e.length>0)return!1;if(e.length&&e.length===0)return!0;for(var t in e)if(hasOwnProperty.call(e,t))return!1;return!0}},fix_outer:function(e){e.outerHeight=function(e,t){return typeof Zepto=="function"?e.height():typeof t!="undefined"?e.outerHeight(t):e.outerHeight()},e.outerWidth=function(e){return typeof Zepto=="function"?e.width():typeof bool!="undefined"?e.outerWidth(bool):e.outerWidth()}},error:function(e){return e.name+" "+e.message+"; "+e.more},off:function(){return e(this.scope).off(".fndtn"),e(t).off(".fndtn"),!0},zj:function(){try{return Zepto}catch(e){return jQuery}}()},e.fn.foundation=function(){var e=Array.prototype.slice.call(arguments,0);return this.each(function(){return Foundation.init.apply(Foundation,[this].concat(e)),this})}})(libFuncName,this,this.document);
window.juration=function(){var e={seconds:{patterns:["second","sec","s"],value:1,formats:{chrono:"",micro:"s","short":"sec","long":"second"}},minutes:{patterns:["minute","min","m(?!s)"],value:60,formats:{chrono:":",micro:"m","short":"min","long":"minute"}},hours:{patterns:["hour","hr","h"],value:3600,formats:{chrono:":",micro:"h","short":"hr","long":"hour"}},days:{patterns:["day","dy","d"],value:86400,formats:{chrono:":",micro:"d","short":"day","long":"day"}},weeks:{patterns:["week","wk","w"],value:604800,formats:{chrono:":",micro:"w","short":"wk","long":"week"}},months:{patterns:["month","mon","mo","mth"],value:2592e3,formats:{chrono:":",micro:"m","short":"mth","long":"month"}},years:{patterns:["year","yr","y"],value:31536e3,formats:{chrono:":",micro:"y","short":"yr","long":"year"}}},t=function(t,n){if(!s(t))throw"juration.stringify(): Unable to stringify a non-numeric value";if(typeof n=="object"&&n.format!==undefined&&n.format!=="micro"&&n.format!=="short"&&n.format!=="long"&&n.format!=="chrono")throw"juration.stringify(): format cannot be '"+n.format+"', and must be either 'micro', 'short', or 'long'";var u={format:"short"},a=o(u,n),f=["years","months","days","hours","minutes","seconds"],l=[];for(var c=0,h=f.length;c<h;c++)c===0?l[c]=Math.floor(t/e[f[c]].value):l[c]=Math.floor(t%e[f[c-1]].value/e[f[c]].value),a.format==="micro"||a.format==="chrono"?l[c]+=e[f[c]].formats[a.format]:l[c]+=" "+i(l[c],e[f[c]].formats[a.format]);var p="";for(c=0,h=l.length;c<h;c++)l[c].charAt(0)!=="0"&&a.format!="chrono"?p+=l[c]+" ":a.format=="chrono"&&(p+=r(l[c]+"","0",c==l.length-1?2:3));return p.replace(/\s+$/,"").replace(/^(00:)+/g,"").replace(/^0/,"")},n=function(t){for(var n in e)for(var r=0,i=e[n].patterns.length;r<i;r++){var s=new RegExp("((?:\\d+\\.\\d+)|\\d+)\\s?("+e[n].patterns[r]+"s?(?=\\s|\\d|\\b))","gi");t=t.replace(s,function(t,r,i){return" "+(r*e[n].value).toString()+" "})}var o=0,u=t.replace(/(?!\.)\W+/g," ").replace(/^\s+|\s+$|(?:and|plus|with)\s?/g,"").split(" ");for(var a=0,f=u.length;a<f;a++){if(!u[a]||!isFinite(u[a]))throw u[a]?"juration.parse(): Unable to parse: "+u[a].replace(/^\d+/g,""):"juration.parse(): Unable to parse: a falsey value";o+=parseFloat(u[a])}return o},r=function(e,t,n){if(!e||!t||e.length>=n)return e;var r=(n-e.length)/t.length;for(var i=0;i<r;i++)e=t+e;return e},i=function(e,t){return e==1?t:t+"s"},s=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},o=function(e,t){for(var n in t)t[n]!==undefined&&(e[n]=t[n]);return e};return{parse:n,stringify:t,humanize:t}}();
/*!
 * jQuery Color Animations v@VERSION
 * https://github.com/jquery/jquery-color
 *
 * Copyright 2013 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * Date: @DATE
 */
;(function(e,t){function h(e,t,n){var r=u[t.type]||{};return e==null?n||!t.def?null:t.def:(e=r.floor?~~e:parseFloat(e),isNaN(e)?t.def:r.mod?(e+r.mod)%r.mod:0>e?0:r.max<e?r.max:e)}function p(t){var n=s(),r=n._rgba=[];return t=t.toLowerCase(),c(i,function(e,i){var s,u=i.re.exec(t),a=u&&i.parse(u),f=i.space||"rgba";if(a)return s=n[f](a),n[o[f].cache]=s[o[f].cache],r=n._rgba=s._rgba,!1}),r.length?(r.join()==="0,0,0,0"&&e.extend(r,l.transparent),n):l[t]}function d(e,t,n){return n=(n+1)%1,n*6<1?e+(t-e)*n*6:n*2<1?t:n*3<2?e+(t-e)*(2/3-n)*6:e}var n="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",r=/^([\-+])=\s*(\d+\.?\d*)/,i=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1]*2.55,e[2]*2.55,e[3]*2.55,e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],s=e.Color=function(t,n,r,i){return new e.Color.fn.parse(t,n,r,i)},o={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},u={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},a=s.support={},f=e("<p>")[0],l,c=e.each;f.style.cssText="background-color:rgba(1,1,1,.5)",a.rgba=f.style.backgroundColor.indexOf("rgba")>-1,c(o,function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}}),s.fn=e.extend(s.prototype,{parse:function(n,r,i,u){if(n===t)return this._rgba=[null,null,null,null],this;if(n.jquery||n.nodeType)n=e(n).css(r),r=t;var a=this,f=e.type(n),d=this._rgba=[];r!==t&&(n=[n,r,i,u],f="array");if(f==="string")return this.parse(p(n)||l._default);if(f==="array")return c(o.rgba.props,function(e,t){d[t.idx]=h(n[t.idx],t)}),this;if(f==="object")return n instanceof s?c(o,function(e,t){n[t.cache]&&(a[t.cache]=n[t.cache].slice())}):c(o,function(t,r){var i=r.cache;c(r.props,function(e,t){if(!a[i]&&r.to){if(e==="alpha"||n[e]==null)return;a[i]=r.to(a._rgba)}a[i][t.idx]=h(n[e],t,!0)}),a[i]&&e.inArray(null,a[i].slice(0,3))<0&&(a[i][3]=1,r.from&&(a._rgba=r.from(a[i])))}),this},is:function(e){var t=s(e),n=!0,r=this;return c(o,function(e,i){var s,o=t[i.cache];return o&&(s=r[i.cache]||i.to&&i.to(r._rgba)||[],c(i.props,function(e,t){if(o[t.idx]!=null)return n=o[t.idx]===s[t.idx],n})),n}),n},_space:function(){var e=[],t=this;return c(o,function(n,r){t[r.cache]&&e.push(n)}),e.pop()},transition:function(e,t){var n=s(e),r=n._space(),i=o[r],a=this.alpha()===0?s("transparent"):this,f=a[i.cache]||i.to(a._rgba),l=f.slice();return n=n[i.cache],c(i.props,function(e,r){var i=r.idx,s=f[i],o=n[i],a=u[r.type]||{};if(o===null)return;s===null?l[i]=o:(a.mod&&(o-s>a.mod/2?s+=a.mod:s-o>a.mod/2&&(s-=a.mod)),l[i]=h((o-s)*t+s,r))}),this[r](l)},blend:function(t){if(this._rgba[3]===1)return this;var n=this._rgba.slice(),r=n.pop(),i=s(t)._rgba;return s(e.map(n,function(e,t){return(1-r)*i[t]+r*e}))},toRgbaString:function(){var t="rgba(",n=e.map(this._rgba,function(e,t){return e==null?t>2?1:0:e});return n[3]===1&&(n.pop(),t="rgb("),t+n.join()+")"},toHslaString:function(){var t="hsla(",n=e.map(this.hsla(),function(e,t){return e==null&&(e=t>2?1:0),t&&t<3&&(e=Math.round(e*100)+"%"),e});return n[3]===1&&(n.pop(),t="hsl("),t+n.join()+")"},toHexString:function(t){var n=this._rgba.slice(),r=n.pop();return t&&n.push(~~(r*255)),"#"+e.map(n,function(e){return e=(e||0).toString(16),e.length===1?"0"+e:e}).join("")},toString:function(){return this._rgba[3]===0?"transparent":this.toRgbaString()}}),s.fn.parse.prototype=s.fn,o.hsla.to=function(e){if(e[0]==null||e[1]==null||e[2]==null)return[null,null,null,e[3]];var t=e[0]/255,n=e[1]/255,r=e[2]/255,i=e[3],s=Math.max(t,n,r),o=Math.min(t,n,r),u=s-o,a=s+o,f=a*.5,l,c;return o===s?l=0:t===s?l=60*(n-r)/u+360:n===s?l=60*(r-t)/u+120:l=60*(t-n)/u+240,u===0?c=0:f<=.5?c=u/a:c=u/(2-a),[Math.round(l)%360,c,f,i==null?1:i]},o.hsla.from=function(e){if(e[0]==null||e[1]==null||e[2]==null)return[null,null,null,e[3]];var t=e[0]/360,n=e[1],r=e[2],i=e[3],s=r<=.5?r*(1+n):r+n-r*n,o=2*r-s;return[Math.round(d(o,s,t+1/3)*255),Math.round(d(o,s,t)*255),Math.round(d(o,s,t-1/3)*255),i]},c(o,function(n,i){var o=i.props,u=i.cache,a=i.to,f=i.from;s.fn[n]=function(n){a&&!this[u]&&(this[u]=a(this._rgba));if(n===t)return this[u].slice();var r,i=e.type(n),l=i==="array"||i==="object"?n:arguments,p=this[u].slice();return c(o,function(e,t){var n=l[i==="object"?e:t.idx];n==null&&(n=p[t.idx]),p[t.idx]=h(n,t)}),f?(r=s(f(p)),r[u]=p,r):s(p)},c(o,function(t,i){if(s.fn[t])return;s.fn[t]=function(s){var o=e.type(s),u=t==="alpha"?this._hsla?"hsla":"rgba":n,a=this[u](),f=a[i.idx],l;return o==="undefined"?f:(o==="function"&&(s=s.call(this,f),o=e.type(s)),s==null&&i.empty?this:(o==="string"&&(l=r.exec(s),l&&(s=f+parseFloat(l[2])*(l[1]==="+"?1:-1))),a[i.idx]=s,this[u](a)))}})}),s.hook=function(t){var n=t.split(" ");c(n,function(t,n){e.cssHooks[n]={set:function(t,r){var i,o,u="";if(r!=="transparent"&&(e.type(r)!=="string"||(i=p(r)))){r=s(i||r);if(!a.rgba&&r._rgba[3]!==1){o=n==="backgroundColor"?t.parentNode:t;while((u===""||u==="transparent")&&o&&o.style)try{u=e.css(o,"backgroundColor"),o=o.parentNode}catch(f){}r=r.blend(u&&u!=="transparent"?u:"_default")}r=r.toRgbaString()}try{t.style[n]=r}catch(f){}}},e.fx.step[n]=function(t){t.colorInit||(t.start=s(t.elem,n),t.end=s(t.end),t.colorInit=!0
),e.cssHooks[n].set(t.elem,t.start.transition(t.end,t.pos))}})},s.hook(n),e.cssHooks.borderColor={expand:function(e){var t={};return c(["Top","Right","Bottom","Left"],function(n,r){t["border"+r+"Color"]=e}),t}},l=e.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}})(jQuery);
jQuery.fn.extend({getUrlParam:function(e){e=escape(unescape(e));var t=new Array,n=null;if($(this).attr("nodeName")=="#document")window.location.search.search(e)>-1&&(n=window.location.search.substr(1,window.location.search.length).split("&"));else if($(this).attr("src")!="undefined"){var r=$(this).attr("src");if(r.indexOf("?")>-1){var i=r.substr(r.indexOf("?")+1);n=i.split("&")}}else{if($(this).attr("href")=="undefined")return null;var r=$(this).attr("href");if(r.indexOf("?")>-1){var i=r.substr(r.indexOf("?")+1);n=i.split("&")}}if(n==null)return null;for(var s=0;s<n.length;s++)escape(unescape(n[s].split("=")[0]))==e&&t.push(n[s].split("=")[1]);return t.length==0?null:t.length==1?t[0]:t}});
function leadingZero(e){return e<10?"0"+e.toString():e.toString()}function setTimerDisplay(e,t){var n,r="";if(t<0&&!e.hasClass("done")){e.addClass("done"),e.data("tf").sound.play(),n="Done!";var i=e.find(".panel");i.animate({backgroundColor:"#31ff3f"},1e3);var s=e.find("a.cancel");s.text("Clear"),s.removeClass("cancel"),s.addClass("large success expand"),e.children("div").append($("<a>",{text:"Silence",href:"#","class":"large alert button expand"}).click(function(t){t.preventDefault(),e.data("tf").silence(e),$(this).text("Silenced"),$(this).addClass("disabled")}))}t<0&&(t=0-t,r="+");var o=Math.floor(t/60),u=Math.floor(o/60);n=leadingZero(o-u*60)+":"+leadingZero(t%60),u>0?(n=u.toString()+" hr. <small>"+n+"</small>",e.find("h2").addClass("hours")):e.find("h2").removeClass("hours"),e.find("h2").empty().append(r+n)}function addTimerToDOM(e){var t=$("#timers"),n=t.children(":last"),r=$("#intro");r.length&&r.remove();if(n.length){n.children().length*COLUMN_VALUE>=COLUMN_TOTAL?t.append($("<div>",{"class":"row"}).append(e)):n.append(e);return}t.append($("<div>",{"class":"row"}).append(e))}function reorganizeTimers(){var e=$("#timers");e.children().each(function(){if($(this).children().length*COLUMN_VALUE<COLUMN_TOTAL){var e=$(this).next();if(e.children().length>0){var t=e.children(":first");t.detach(),$(this).append(t)}e.children().length<1&&e.remove()}})}function setError(e,t){e.parent().addClass("error"),e.parent().children("small").remove(),e.parent().append($("<small>",{text:t}))}function createTimer(e){var t=$("<div>",{"class":"timer large-"+COLUMN_VALUE+" columns"}).append($("<div>",{"class":"panel"}).append($("<h2>",{text:e})));t.data("tf",{method:function(e){var t=new Date,n=e.data("tf").finishTime.valueOf()-t.valueOf();setTimerDisplay(e,Math.ceil(n/1e3)),setTimeout(function(){e.data("tf").method(e)})},finishTime:new Date(Date.now()+e*1e3),canceled:!1,cancel:function(e){var t=e.parent();e.data("tf").sound.pause(),e.data("tf").canceled=!0,e.fadeOut(400,function(){e.remove(),t.children().length<1&&t.remove(),reorganizeTimers()})},silenced:!1,silence:function(e){e.data("tf").sound.pause(),e.data("tf").silenced=!0},sound:alarmSound.cloneNode(!0)}),setTimerDisplay(t,e),setTimeout(function(){t.data("tf").method(t)},1e3),t.children("div").append($("<a>",{text:"Cancel",href:"#","class":"large cancel button expand"}).click(function(e){e.preventDefault(),t.data("tf").cancel(t)})),addTimerToDOM(t)}$(document).foundation();var COLUMN_VALUE=4,COLUMN_TOTAL=12,alarmSound=new Audio;$(document).ready(function(){$("#time").focus(),alarmSound.src=Modernizr.audio.ogg?"assets/sounds/78562__joedeshon__alarm-clock-ringing-01.ogg":Modernizr.audio.mp3?"assets/sounds/78562__joedeshon__alarm-clock-ringing-01.mp3":"assets/sounds/78562__joedeshon__alarm-clock-ringing-01.m4a",alarmSound.load();var e=$(document).getUrlParam("timers");$("#add-timer").submit(function(e){e.preventDefault();var t=$(this).find("input:text"),n=t.val();try{var r=juration.parse(n)}catch(e){setError(t,"Sorry, we didn't understand that. Try again?");return}if(r>359999){setError(t,"That's a long time! Try a smaller span.");return}t.parent().hasClass("error")&&(t.parent().removeClass("error"),t.parent().children("small").remove()),createTimer(r)})});
